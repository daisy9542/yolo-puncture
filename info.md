# YOLOv8 Puncture

## 数据集

共 19 个视频。其中前 13 个用于训练集，3 个用于验证集，3 个用于测试集。

图片比例：3164:705:1091

## 训练信息

> 加粗表示真人打针视频。

- video\[20-26] - 角度较差拍摄 (2023/09/04)
- video\[27-32] - 非专业拍摄 (2023/09/07)
- video\[33-53] - 会议拍摄 (2024/09/12)
- video\[54-59] - 照相机视角 (2024/09/13)
- video\[60-65] - 平行视角 (2024/09/13)
- video\[66-71] - 另一个侧面较高视角 (2024/09/13)

[60-65]视频的关键插入帧：167, 38, 49, 70, 58, 110

| 视频               | 实际关键帧       | 实际速度      | 调整关键帧   | 调整速度 | 误差(%)    |         
|------------------|-------------|-----------|---------|------|----------|
| **video1**       | 122/162-168 | 1.30-1.50 | 126/167 | 1.42 | 0.05     |
| video2           | 44/90-98    | 1.11-1.30 | 44/98   | 1.11 | 0.07     |
| **video3**       | 0/19-25     | 2.40-3.16 | 0/22    | 2.73 | 0.05     |
| video4           | 73/110-115  | 1.43-1.62 | 75/116  | 1.46 | 0.02     |
| video5           | 27/48-50    | 2.61-2.86 | 30/48   | 4.00 | **0.22** |
| video6           | 25/62-65    | 1.50-1.62 | 26/65   | 1.54 | 0.03     |
| video7           | 14/54-68    | 1.11-1.50 | 17/64   | 1.28 | 0.04     |
| **video8**       | 141/178-183 | 1.43-1.62 | 144/192 | 1.25 | 0.19     |
| video9<br>(视频较短) | 12/25-29    | 3.53-4.62 | 17/34   | 3.53 | 0.12     |
| video10          | 7/28-30     | 3.52-4.00 | 8/28    | 3.00 | 0.10     |
| video11          | 3/18-20     | 3.53-4.00 | 3/19    | 3.75 | 0.11     |
| video12          | 9/33-34     | 2.40-2.50 | 16/35   | 3.16 | **0.32** | 
| video13          | 9/24-26     | 3.53-4.00 | 8/24    | 3.75 | 0.00     |
| video14          | 29/56-57    | 2.14-2.22 | 24/57   | 1.82 | 0.15     |
| video15          | 30/55-56    | 2.31-2.40 | 34/57   | 2.61 | 0.13     |
| video16          | 62/79-82    | 3.00-3.53 | 61/82   | 2.86 | 0.14     |
| video17          | 151/164-165 | 4.29-4.62 | 158/172 | 4.29 | 0.00     |
| video18          | 111/127-129 | 3.33-3.75 | 106/130 | 2.50 | **0.32** |
| video19          | 60/91-92    | 1.88-1.94 | 60/92   | 1.88 | 0.00     |

## 指标

| 模型                   | mAP50 | mAP50-95 |
|----------------------|-------|----------|
| YOLOv10_init(m)      | 0.544 | 0.376    |
| YOLOv10_remark(x)    | 0.617 | 0.185    |
| YOLOv10_more_data(x) |       |          |
| YOLOV                |       |          |

## 速度误差

对针梗长度列表进行平滑后，重新预测结束帧（针梗插入皮肤 2mm）。

|               方法                | 误差（百分比）  |
|:-------------------------------:|:--------:|
|             Normal              |   0.16   |
|        Gaussian(sigma=1)        |   0.13   | 
|        Gaussian(sigma=2)        | **0.10** | 
|        Gaussian(sigma=3)        |   0.11   | 
|  Savitzky Golay(poly_order=3)   |   0.12   |
|  Savitzky Golay(poly_order=2)   |   0.12   |
|  Savitzky Golay(poly_order=1)   |   0.11   |
| Median Filtering(kernel_size=7) |   0.14   |

## 研究方向

- **关键帧识别**：时序信息、细粒度分类、NER
- **长度检测**：二值化
- 跟踪遮挡场景：OIVS 数据集相关
- Segment Everything：只分割某个物体
- 不同形状的滤波器
- 自动识别单个目标物体并追踪
- 先识别大物体在识别内部的小物体